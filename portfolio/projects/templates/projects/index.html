{% extends "base.html" %}
{% load static %}


{% block content %}

<link rel="stylesheet" href="{% static 'projects/projectCardStyle.css' %}">

<div id="app">
  <div class="card-row">
    <div v-for="project in projects" :key="project.id">
      <project-card :project="project"></project-card>
    </div>
  </div>
</div>


<!-- Vue CDN -->
<script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
<script src="{% static 'projects/vue/components/projectCard.js' %}"></script>
<script>
  console.log('MOUNTED')
  const app = Vue.createApp({
    components: {
      "project-card": window.ProjectCard,
    },
    data() {
      console.log(JSON.parse('{{ projects_json|escapejs }}'))
      return {
        projects: JSON.parse('{{ projects_json|escapejs }}')
      };
    }
  }).mount("#app");
</script>

{% endblock %}
